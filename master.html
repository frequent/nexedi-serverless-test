<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Serverless WebRTC - Master</title>
    <script src="rsvp.latest.js"></script>
    <script src="renderjs.latest.js"></script>
    <script src="master.js"></script>
  </head>
  <body>
    <!-- MASTER -->
    <!-- provides storage and can broadcast WebRTC token to connect with slave -->

    <div class="ui-content">
      <h3>Master</h3>
      <ul>
      <li>The master gadget contains a jIO storage indexedDB.</li>
      <li>Slaves connect to master by capturing WebRTC token broadcasted by master</li>
      <li>Once webRTC is active the slave can access the storage over webRTC</li>
      <h3>Token Generator</h3>
      <textarea class="ops-encoder-input"></textarea>
      <p>
        <form name="ops-form-generate"><button type="submit">Generate</button></form>
        <form name="ops-form-play"><button type="submit">Encode/Play</button></form>
        <form name="ops-form-clear"><button type="submit">Reset</button></form>
      </p>
      <p>Config</p>
      <form name="ops-form-config">
        <label>Bit high duration: <span>100</span> ms
          <input name="ops-duration" class="ops-duration" type="range" value="100" min="10", max="1000", step="10">
        </label>
        <label>Pause between bytes: <span>20</span> ms
          <input name="ops-pause" class="ops-pause" type="range" value="20" min="0", max="500", step="10">
        </label>
      </form>
    </div>

    <!-- listener waiting for offers from slaves -->
    <div data-gadget-url="gadget_webrtc_shared_storage.html"
         data-gadget-scope="webrtc_shared_storage"
         data-gadget-sandbox="public"></div>

    <!-- storage -->
    <div data-gadget-url="gadget_jio.html"
         data-gadget-scope="jio_gadget"
         data-gadget-sandbox="public"></div>

  </body>
</html>

